{% extends 'provider_header.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Service Provider Profile</h2>

    {% if messages %}
        <div class="alert alert-info">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endif %}

    <div class="row">
    
        <div class="col-md-6">
            <div class="card shadow-lg p-4">
                <h4 class="text-center mb-3"><i class="fas fa-user-edit"></i> Update Profile</h4>
                <form method="POST">
                    {% csrf_token %}
                    <input type="hidden" name="update_profile">

                    <div class="mb-3">
                        <label for="username" class="form-label"><i class="fas fa-user"></i> Username</label>
                        <input type="text" class="form-control" id="username" name="username" value="{{ provider.user.username }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label"><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ provider.user.email }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="company_name" class="form-label"><i class="fas fa-building"></i> Company Name</label>
                        <input type="text" class="form-control" id="company_name" name="company_name" value="{{ provider.company_name }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="phone" class="form-label"><i class="fas fa-phone"></i> Phone</label>
                        <input type="text" class="form-control" id="phone" name="phone" value="{{ provider.phone }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="address" class="form-label"><i class="fas fa-map-marker-alt"></i> Address</label>
                        <textarea class="form-control" id="address" name="address" required>{{ provider.address }}</textarea>
                    </div>

                    <button type="submit" class="btn btn-primary w-100"><i class="fas fa-save"></i> Update Profile</button>
                </form>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card shadow-lg p-4">
                <h4 class="text-center mb-3"><i class="fas fa-lock"></i> Change Password</h4>
                <form method="POST">
                    {% csrf_token %}
                    <input type="hidden" name="change_password">

                    <div class="mb-3">
                        <label for="current_password" class="form-label"><i class="fas fa-key"></i> Current Password</label>
                        <input type="password" class="form-control" id="current_password" name="current_password" required>
                    </div>

                    <div class="mb-3">
                        <label for="new_password" class="form-label"><i class="fas fa-lock"></i> New Password</label>
                        <input type="password" class="form-control" id="new_password" name="new_password" required>
                    </div>

                    <div class="mb-3">
                        <label for="confirm_password" class="form-label"><i class="fas fa-lock"></i> Confirm New Password</label>
                        <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                    </div>

                    <button type="submit" class="btn btn-danger w-100"><i class="fas fa-exchange-alt"></i> Change Password</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- FontAwesome for icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}
